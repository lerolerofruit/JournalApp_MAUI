<Page x:Class="JournalApp.Views.EntryEditorPage"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      Title="Journal Entry"
      Background="{DynamicResource BackgroundBrush}">

    <ScrollViewer VerticalScrollBarVisibility="Auto">
        <StackPanel Margin="30">
            <TextBlock Text="Journal Entry" FontSize="28" FontWeight="Bold" 
                      Foreground="{DynamicResource TextBrush}" Margin="0,0,0,20"/>

            <Border Background="{DynamicResource CardBrush}" CornerRadius="8" Padding="20"
                    BorderThickness="1" BorderBrush="{DynamicResource BorderBrush}">
                <StackPanel>
                    <!-- Date -->
                    <TextBlock Text="Date" FontWeight="Bold" Margin="0,0,0,5" 
                              Foreground="{DynamicResource TextBrush}"/>
                    <DatePicker x:Name="dpDate" Margin="0,0,0,15"/>

                    <!-- Title -->
                    <TextBlock Text="Title (Optional)" FontWeight="Bold" Margin="0,0,0,5"
                              Foreground="{DynamicResource TextBrush}"/>
                    <TextBox x:Name="txtTitle" Padding="8" Margin="0,0,0,15"/>

                    <!-- Content -->
                    <TextBlock Text="Content" FontWeight="Bold" Margin="0,0,0,5"
                              Foreground="{DynamicResource TextBrush}"/>
                    <TextBox x:Name="txtContent" AcceptsReturn="True" TextWrapping="Wrap" 
                            MinHeight="200" Padding="8" VerticalScrollBarVisibility="Auto" 
                            Margin="0,0,0,15"/>

                    <!-- Primary Mood -->
                    <TextBlock Text="Primary Mood *" FontWeight="Bold" Margin="0,0,0,5"
                              Foreground="{DynamicResource TextBrush}"/>
                    <ComboBox x:Name="cmbPrimaryMood" DisplayMemberPath="Name" 
                             Margin="0,0,0,15" Padding="8"/>

                    <!-- Secondary Moods -->
                    <TextBlock Text="Secondary Moods (Optional)" FontWeight="Bold" 
                              Margin="0,0,0,5" Foreground="{DynamicResource TextBrush}"/>
                    <Grid Margin="0,0,0,15">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="10"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        <ComboBox x:Name="cmbSecondaryMood1" Grid.Column="0" 
                                 DisplayMemberPath="Name" Padding="8"/>
                        <ComboBox x:Name="cmbSecondaryMood2" Grid.Column="2" 
                                 DisplayMemberPath="Name" Padding="8"/>
                    </Grid>

                    <!-- Category -->
                    <TextBlock Text="Category (Optional)" FontWeight="Bold" Margin="0,0,0,5"
                              Foreground="{DynamicResource TextBrush}"/>
                    <ComboBox x:Name="cmbCategory" DisplayMemberPath="Name" 
                             Margin="0,0,0,15" Padding="8"/>

                    <!-- Tags -->
                    <TextBlock Text="Tags (Optional)" FontWeight="Bold" Margin="0,0,0,5"
                              Foreground="{DynamicResource TextBrush}"/>
                    <ListBox x:Name="lstTags" Height="150" SelectionMode="Multiple" 
                            DisplayMemberPath="Name" Margin="0,0,0,10"/>
                    
                    <!-- Custom Tag -->
                    <Grid Margin="0,0,0,15">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="120"/>
                        </Grid.ColumnDefinitions>
                        <TextBox x:Name="txtCustomTag" Grid.Column="0" Padding="8" 
                                Margin="0,0,10,0" 
                                ToolTip="Enter custom tag name"/>
                        <Button x:Name="btnAddCustomTag" Grid.Column="1" Content="Add Custom Tag" 
                               Padding="8" Click="BtnAddCustomTag_Click"/>
                    </Grid>

                    <!-- Buttons -->
                    <StackPanel Orientation="Horizontal" HorizontalAlignment="Right">
                        <Button x:Name="btnSave" Content="Save Entry" Padding="15,8" 
                               Margin="0,0,10,0" Click="BtnSave_Click"/>
                        <Button x:Name="btnDelete" Content="Delete" Padding="15,8" 
                               Margin="0,0,10,0" Click="BtnDelete_Click"
                               Background="#E74C3C" Foreground="White"/>
                        <Button x:Name="btnCancel" Content="Cancel" Padding="15,8" 
                               Click="BtnCancel_Click"/>
                    </StackPanel>
                </StackPanel>
            </Border>
        </StackPanel>
    </ScrollViewer>
</Page>
